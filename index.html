<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>보드게임 동아리</title>
  <link rel="stylesheet" href="./css/style.css" />
</head>

<body>
  <!-- ✅ 배경(포스터) -->
  <div class="bg" aria-hidden="true"></div>

  <!-- ✅ 화면 위 콘텐츠가 더 생기더라도 footer가 가리지 않게 여유 공간 확보 -->
  <main class="wrap" aria-label="보드게임 동아리 메인">
    <!-- 지금은 포스터가 메인이므로 비워둬도 됨 -->
    <!-- 추후: 공지 카드/이번주 일정 등 이 영역에 자유롭게 추가 가능 -->
  </main>

  <!-- =========================
       ✅ 하단 고정 Footer 메뉴
       - [동아리 소개] [금주의 보드게임] [참여신청]
       - 버튼 클릭 → 동일한 카드 팝업(모달) 열기
       ========================= -->
  <footer class="footer-nav" aria-label="하단 메뉴">
    <button type="button" class="footer-btn" data-modal="intro">동아리 소개</button>
    <button type="button" class="footer-btn" data-modal="weekly">금주의 보드게임</button>
    <button type="button" class="footer-btn primary" data-modal="join">참여신청</button>
  </footer>


  <!-- =========================
       ✅ 공용 모달(하나로 통합)
       - 3개 메뉴가 모두 "같은 카드 UI"를 공유
       - 안쪽 내용만 바꿔서 보여준다.
       ========================= -->
  <div class="modal" id="mainModal" aria-hidden="true">
    <!-- ✅ dim(배경 클릭 시 닫기) -->
    <div class="modal-backdrop" id="modalBackdrop"></div>

    <!-- ✅ 실제 카드 -->
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <!-- ✅ 제목은 JS에서 상황에 맞게 변경 -->
      <h3 class="modal-title" id="modalTitle">제목</h3>

      <!-- ✅ 공용 안내/경고 메시지 -->
      <p class="modal-warning" id="modalWarning" style="display:none;">
        모두 적으셔야 합니다.
      </p>

      <!-- =====================================================
           1) 동아리 소개 뷰
           ===================================================== -->
      <section id="viewIntro" class="modal-view" hidden>
        <p class="modal-text">
          우리랜드는 3청에서 시작한 보드게임 동아리 입니다.<br/>
          지금은 중앙동아리의 지원으로 모든 청년이 참여할 수 있습니다.
        </p>

        <p class="modal-text">
          우리랜드는 함께 모여 보드게임을 즐기며<br/> 친목을 다지는 모임입니다.<br/>
          초보자도 쉽게 참여할 수 있도록 룰 설명과 진행을 도와드립니다.
        </p>

        <ul class="modal-list">
          <li>정기 모임: 매주 토요일 13:00</li>
          <li>장소: 드림센터 1011호</li>
          <li>대상: 누구나</li>
        </ul>

        <div class="modal-actions">
          <button type="button" class="btn" data-action="close">확인</button>
        </div>
      </section>

      <!-- =====================================================
           2) 금주의 보드게임 뷰
           ===================================================== -->
      <section id="viewWeekly" class="modal-view" hidden>
        <p class="modal-text">
          이번 주 추천 보드게임입니다!<br/>
          (일요일 기준으로 자동 갱신됩니다)
        </p>

        <p class="modal-subtitle" id="weekStartDate" aria-live="polite"></p>
        <p class="weekly-status" id="weeklyStatus" aria-live="polite">불러오는 중...</p>
        <div class="weekly-cards" id="weeklyCards"></div>

        <div class="modal-actions">
          <button type="button" class="btn" data-action="close">확인</button>
        </div>
      </section>

      <!-- =====================================================
           3) 참여 신청 뷰
           ===================================================== -->
      <section id="viewJoin" class="modal-view" hidden>
        <form id="joinForm">
          <label class="field">
            <span class="field-label">소속부서</span>
            <select id="deptSelect" class="field-input" required>
              <option value="">선택하세요</option>
              <option value="1청년부">1청년부</option>
              <option value="2청년부">2청년부</option>
              <option value="3청년부">3청년부</option>
              <option value="4청년부">4청년부</option>
              <option value="그 외">그 외</option>
            </select>
          </label>

          <!-- ✅ '그 외' 선택시에만 표시 -->
          <label class="field" id="deptEtcField" style="display:none;">
            <span class="field-label">소속부서(직접입력)</span>
            <input id="deptEtcInput" class="field-input" type="text" placeholder="예: 신혼다락방" />
          </label>

          <label class="field">
            <span class="field-label">이름</span>
            <input id="nameInput" class="field-input" type="text" placeholder="홍길동" required />
          </label>

          <label class="field">
            <span class="field-label">연락처</span>
            <input id="phoneInput" class="field-input" type="tel" inputmode="numeric" placeholder="01012345678" required />
          </label>

          <!-- ✅ (추가) 신청 인원 -->
          <label class="field">
            <span class="field-label">신청 인원</span>
            <input
              id="peopleCountInput"
              class="field-input"
              type="number"
              min="1"
              max="99"
              value="1"
              inputmode="numeric"
              aria-describedby="peopleCountHint"
            />
            <small id="peopleCountHint" class="field-hint">
              예: 3명 같이 참여면 3 입력
            </small>
          </label>

          <!-- =====================================================
               ✅ 시간대/게임 선택 영역 (JS가 라벨을 서버데이터로 갱신)
               ===================================================== -->
          <div class="slot-panel" id="slotPanel" style="display:none;">
            <p class="modal-text" style="margin-top: 8px;">
              참여할 시간대를 선택해주세요. (복수 선택 가능)
            </p>

            <!-- ✅ 참고용(서버에서 timeText가 내려오므로 실제 표시는 체크박스 라벨을 따름) -->
            <p class="modal-subtitle" id="slotHint" aria-live="polite">
              운영 시간: EASY 13:00~14:00 / NORMAL 14:00~15:00 / HARD 15:00~16:00
            </p>

            <label class="slot-item">
              <input type="checkbox" id="slotEasy" name="timeSlots" value="EASY" />
              <!-- ✅ JS가 이 span의 텍스트만 교체 -->
              <span id="slotEasyLabel">EASY (13:00~14:00)</span>
            </label>

            <label class="slot-item">
              <input type="checkbox" id="slotNormal" name="timeSlots" value="NORMAL" />
              <span id="slotNormalLabel">NORMAL (14:00~15:00)</span>
            </label>

            <label class="slot-item">
              <input type="checkbox" id="slotHard" name="timeSlots" value="HARD" />
              <span id="slotHardLabel">HARD (15:00~16:00)</span>
            </label>

            <p class="modal-warning" id="slotWarning" style="display:none; margin-top: 10px;">
              시간대를 1개 이상 선택해주세요.
            </p>
          </div>

          <div class="modal-actions">
            <button type="button" class="btn ghost" id="cancelBtn">취소</button>
            <button type="submit" class="btn" id="submitBtn" disabled>참여</button>
          </div>
        </form>
      </section>

    </div>
  </div>

  <!-- ✅ 캐시 무효화(중요): v 값만 바꾸면 브라우저가 새 JS를 무조건 받음 -->
  <script src="./js/app.js?v=20260220-1"></script>
</body>
</html>